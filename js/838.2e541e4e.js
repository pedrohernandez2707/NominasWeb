"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[838],{3838:(e,l,a)=>{a.r(l),a.d(l,{default:()=>H});var o=a(9835);const i={class:"row"},n={class:"col-xs-4 col-md-4 q-pa-md"},t={class:"col-xs-4 col-md-4 q-pa-md"},r={class:"col-xs-4 col-md- q-pa-md"},u={style:{height:"500px"}};function s(e,l,a,s,d,c){const m=(0,o.up)("q-select"),p=(0,o.up)("q-btn"),b=(0,o.up)("q-form"),v=(0,o.up)("q-td"),g=(0,o.up)("q-icon"),f=(0,o.up)("q-input"),h=(0,o.up)("q-table"),w=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(w,{padding:""},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{onSubmit:e.agregarPeriodo,class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o._)("div",n,[(0,o.Wm)(m,{modelValue:e.periodo,"onUpdate:modelValue":l[0]||(l[0]=l=>e.periodo=l),options:e.periodos,label:"Periodo",filled:""},null,8,["modelValue","options"])]),(0,o._)("div",t,[(0,o.Wm)(m,{modelValue:e.mes,"onUpdate:modelValue":l[1]||(l[1]=l=>e.mes=l),options:e.meses,label:"Mes",filled:""},null,8,["modelValue","options"])]),(0,o._)("div",r,[(0,o.Wm)(m,{modelValue:e.año,"onUpdate:modelValue":l[2]||(l[2]=l=>e.año=l),options:e.años,label:"Año",filled:""},null,8,["modelValue","options"])])]),(0,o._)("div",null,[(0,o.Wm)(p,{label:"Activar",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"]),(0,o._)("div",u,[(0,o.Wm)(h,{class:"full-height",title:"Historial Periodos",rows:e.periodosRows,columns:e.columns,filter:e.filter,pagination:{rowsPerPage:0}},{"body-cell-Accion":(0,o.w5)((l=>[(0,o.Wm)(v,{props:l,class:"q-pa-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{outline:"",size:"sm",color:"A"==l.row.estado?"positive":"indigo",icon:"A"==l.row.estado?"task":"print",label:"A"==l.row.estado?"Generar":"",onClick:a=>e.generarNomina(l.row)},null,8,["color","icon","label","onClick"])])),_:2},1032,["props"])])),"top-right":(0,o.w5)((()=>[(0,o.Wm)(f,{borderless:"",dense:"",modelValue:e.filter,"onUpdate:modelValue":l[3]||(l[3]=l=>e.filter=l),placeholder:"Buscar Periodos",clearable:""},{append:(0,o.w5)((()=>[(0,o.Wm)(g,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter"])])])),_:1})}var d=a(9302),c=a(4136),m=a(8651),p=a(499),b=function(e,l,a,o){function i(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,n){function t(e){try{u(o.next(e))}catch(l){n(l)}}function r(e){try{u(o["throw"](e))}catch(l){n(l)}}function u(e){e.done?a(e.value):i(e.value).then(t,r)}u((o=o.apply(e,l||[])).next())}))};const v=[{name:"Id",label:"Id",field:"id",align:"center"},{name:"Periodo",label:"Periodo",field:"periodo",align:"center"},{name:"Mes",label:"Mes",field:"mes",align:"center"},{name:"Año",label:"Año",field:"año",align:"center"},{name:"Estado",label:"Estado",field:"estado",align:"center"},{name:"Fecha Creacion",label:"Fecha Creacion",field:"fecha",align:"center"},{name:"Accion",label:"Accion",field:"Accion",align:"center"}],g=(0,o.aZ)({name:"UsuariosPage",setup(){const e=(0,d.Z)(),l=(0,p.iH)(null),a=(0,p.iH)(null),o=(0,p.iH)([{value:1,label:"Primera Quincena"},{value:2,label:"Segunda Quincena"},{value:3,label:"Bono 14"},{value:4,label:"Aguinaldo"},{value:5,label:"Otros"}]),i=(0,p.iH)([{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}]),n=(0,p.iH)(""),t=(0,p.iH)(null),r=(0,p.iH)([{value:2022,label:"2022"},{value:2023,label:"2023"},{value:2024,label:"2024"},{value:2025,label:"2025"},{value:2026,label:"2026"},{value:2027,label:"2027"},{value:2028,label:"2028"}]),u=(0,p.iH)([]),s=()=>b(this,void 0,void 0,(function*(){e.loading.show(),yield c.api.get(c.endPoints.PERIODOS).then((e=>{u.value=e.data})).catch((e=>{(0,m.L1)(e)})).finally((()=>{e.loading.hide()}))})),g=()=>b(this,void 0,void 0,(function*(){if(!l.value||!t.value||!a.value)return void(0,m.x2)("Debe Seleccionar todos los campos");const o=yield(0,m.pW)("Confirmacion","Desea Agregar el Periodo Activo?",{});if(!o)return;const i={mes:l.value.value,anio:t.value.value,periodo:a.value.value};e.loading.show();yield c.api.post(c.endPoints.PERIODOS,i).then((e=>b(this,void 0,void 0,(function*(){200===e.status&&(yield s(),(0,m.dF)("Agregado Correctamente"))})))).catch((e=>{(0,m.L1)(e)}));e.loading.hide()})),f=()=>{};return{generarNomina:f,getPeriodos:s,periodosRows:u,columns:v,meses:i,mes:l,periodo:a,periodos:o,filter:n,año:t,años:r,agregarPeriodo:g}},created(){this.getPeriodos()}});var f=a(1639),h=a(9885),w=a(8326),P=a(6384),A=a(4455),q=a(7580),y=a(7220),_=a(3119),V=a(2857),W=a(9984),Z=a.n(W);const Q=(0,f.Z)(g,[["render",s]]),H=Q;Z()(g,"components",{QPage:h.Z,QForm:w.Z,QSelect:P.Z,QBtn:A.Z,QTable:q.Z,QTd:y.Z,QInput:_.Z,QIcon:V.Z})}}]);